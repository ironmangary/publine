{% extends "base.html" %}
{% block title %}EPUB Layout for {{ project.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    {% include 'flash_messages.html' %}
    <h1 class="mb-4">EPUB Layout Settings for "{{ project.title }}"</h1>

    <div class="row">
        <div class="col-md-8">
            <form method="POST" action="{{ url_for('layout_bp.epub_layout', slug=project.slug) }}">
                <div class="card mb-4">
                    <div class="card-header">
                        EPUB Display Features
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Include Cover Image
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="cover_image" name="cover_image" {% if display_features.cover_image %}checked{% endif %}>
                                <label class="form-check-label" for="cover_image"></label>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Embed Fonts
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="embed_fonts" name="embed_fonts" {% if display_features.embed_fonts %}checked{% endif %}>
                                <label class="form-check-label" for="embed_fonts"></label>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Generate Table of Contents
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="generate_toc" name="generate_toc" {% if display_features.generate_toc %}checked{% endif %}>
                                <label class="form-check-label" for="generate_toc"></label>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Add Navigation Links (inside chapters)
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="nav_links" name="nav_links" {% if display_features.nav_links %}checked{% endif %}>
                                <label class="form-check-label" for="nav_links"></label>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Include License Information
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="license_info" name="license_info" {% if display_features.license_info %}checked{% endif %}>
                                <label class="form-check-label" for="license_info"></label>
                            </div>
                        </li>
                    </ul>
                </div>
                <button type="submit" class="btn btn-primary">Save EPUB Layout Settings</button>
            </form>
            <a href="{{ url_for('layout_bp.project_layout', slug=project.slug) }}" class="btn btn-secondary mt-3">Back to Layout Options</a>
        </div>
    </div>
</div>
{% endblock %}
