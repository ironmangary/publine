{% extends "base.html" %}
{% block title %}{{ project.title }} - HTML Layout{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>HTML Layout Configuration</h2>
    <p>Select which features to include in your generated HTML pages.</p>

    <form method="POST">
        <h3>Header Features</h3>
        <ul class="feature-list">
            <li>
                <label>
                    <input type="checkbox" name="use_chapter_titles" value="on" {{ 'checked' if display_features.get('use_chapter_titles') else '' }}>
                    Use Chapter Titles
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="cover_image" value="on" {{ 'checked' if display_features.get('cover_image') else '' }}>
                    Cover Image
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="chapter_nav_top" value="on" {{ 'checked' if display_features.get('chapter_nav_top') else '' }}>
                    Top Chapter Navigation
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="epub_link" value="on" {{ 'checked' if display_features.get('epub_link') else '' }}>
                    EPUB Download Link
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="pdf_link" value="on" {{ 'checked' if display_features.get('pdf_link') else '' }}>
                    PDF Download Link
                </label>
            </li>
        </ul>

        <h3>Footer Features</h3>
        <ul class="feature-list">
            <li>
                <label>
                    <input type="checkbox" name="share_links" value="on" {{ 'checked' if display_features.get('share_links') else '' }}>
                    Share This Chapter Links
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="discuss_link" value="on" {{ 'checked' if display_features.get('discuss_link') else '' }}>
                    Discuss This Chapter Link
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="chapter_nav_bottom" value="on" {{ 'checked' if display_features.get('chapter_nav_bottom') else '' }}>
                    Bottom Chapter Navigation
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="social_links" value="on" {{ 'checked' if display_features.get('social_links') else '' }}>
                    Social Media Links
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="copyright" value="on" {{ 'checked' if display_features.get('copyright') else '' }}>
                    Copyright
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="license" value="on" {{ 'checked' if display_features.get('license') else '' }}>
                    License Info
                </label>
            </li>
        </ul>

        <h3>Index Page Features</h3>
        <ul class="feature-list">
            <li>
                <label>
                    <input type="checkbox" name="html_include_blurb" value="on" {{ 'checked' if display_features.get('html_include_blurb') else '' }}>
                    Include Blurb on Index Page
                </label>
                <p class="text-muted">Supports plain text and Markdown.</p>
                <textarea name="html_blurb_content" class="form-control" rows="5" placeholder="Enter blurb content here...">{{ blurb_content if blurb_content else '' }}</textarea>
            </li>
        </ul>
        
        <button type="submit" class="button">Save HTML Layout Settings</button>
    </form>
    <a href="{{ url_for('layout_bp.project_layout', slug=project.slug) }}" class="btn btn-secondary mt-3">Back to Layout Options</a>
</div>
{% endblock %}
